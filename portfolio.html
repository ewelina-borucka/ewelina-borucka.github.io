<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Ewelina Borucka | Web Developer</title>
  <link rel="stylesheet" href="css/main.css">
  <link rel="stylesheet" href="css/style-portfolio.css">

</head>
<body>
  <div class="container">

    <header class="main-header">
      <div class="logo">
        <a href="index.html">
        <div class="name">
          <div class="tl title-1">Ewelina Borucka</div>
          <div class="tl title-2">Web Developer</div>
        </div>
      </a>
      </div>
      <ul class="main-nav">
        <li><a href="index.html">Home</a></li>
        <li><a href="portfolio.html" class="selected">Portfolio</a></li>
        <li><a href="contact.html">Info</a></li>
      </ul>
    </header>

    <main class="main-content">
      <div class="square">
        <div class="boxes">

          <div class="box zero">
            <div class="number">
              <div class="glitch-box"><div class="glitch" data-text="PROJECT 1">PROJECT 1</div></div>
            </div>
            <a href="#"><div class="projectBox"></div></a>
            <h4 class="title">Matrix App</h4>
          </div>

          <div class="box one">
            <div class="number">
              <div class="glitch-box"><div class="glitch" data-text="PROJECT 1">PROJECT 1</div></div>
            </div>
            <a href="#"><div class="projectBox"></div></a>
            <h4 class="title">Big Fat Elephant</h4>
          </div>

          <div class="box two">
            <div class="number">
              <div class="glitch-box"><div class="glitch" data-text="PROJECT 1">PROJECT 1</div></div>
            </div>
            <a href="#"><div class="projectBox"></div></a>
            <h4 class="title">Crafty Tours</h4>
          </div>

          <div class="box three">
            <div class="number">
              <div class="glitch-box"><div class="glitch" data-text="PROJECT 1">PROJECT 1</div></div>
            </div>
            <a href="#"><div class="projectBox"></div></a>
            <h4 class="title">Tic Tac Toe</h4>
          </div>

          <div class="box four">
            <div class="number">
              <div class="glitch-box"><div class="glitch" data-text="PROJECT 1">PROJECT 1</div></div>
            </div>
            <a href="#"><div class="projectBox"></div></a>
            <h4 class="title">Randomizer</h4>
          </div>

          <div class="box five">
            <div class="number">
              <div class="glitch-box"><div class="glitch" data-text="PROJECT 1">PROJECT 1</div></div>
            </div>
            <a href="#"><div class="projectBox"></div></a>
            <h4 class="title">Mystery</h4>
          </div>

        </div>
      </div>
    </main>

    <footer class="main-footer">
        <span class="inner">&copy;2017 Ewelina Borucka Web Developer</span>
    </footer>

  </div>

<script src="js/jquery.js"></script>
<script src="js/tweenmax.js"></script>
<script src="js/main.js"></script>

<script type="text/javascript">
//---------------------------------------------------

function randomChar(type){
	var pool = "";

	if (type == "lowerLetter"){
		pool = "abcdefghijklmnopqrstuvwxyz0123456789";
	}
	else if (type == "upperLetter"){
		pool = "ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";
	}
	else if (type == "symbol"){
		pool = ",.?/\\(^)![]{}*&^%$#'\"";
	}

	var arr = pool.split('');
	return arr[Math.floor(Math.random()*arr.length)];
}

$.fn.shuffleLetters = function(prop){

	var options = $.extend({
		"step"	: 20,	// How many times should the letters be changed
		"fps"	: 25,	// Frames Per Second
		"text"	: "" 	// Use this text instead of the contents
	}, prop);

	return this.each(function(){

		var el = $(this),
			str = "";

		if(options.text) {
			str = options.text.split('');
		}
		else {
			str = el.text().split('');
		}

		// The types array holds the type for each character;
		// Letters holds the positions of non-space characters;

		var types = [],
			letters = [];

		// Looping through all the chars of the string

		for(var i=0; i < str.length; i += 1){

			var ch = str[i];

			if(ch == " "){
				types[i] = "space";
				continue;
			}
			else if(/[a-z]/.test(ch)){
				types[i] = "lowerLetter";
			}
			else if(/[A-Z]/.test(ch)){
				types[i] = "upperLetter";
			}
			else {
				types[i] = "symbol";
			}

			letters.push(i);
		}

		el.html("");

		// Self executing named function expression:

		(function shuffle(start){

			// This code is run options.fps times per second
			// and updates the contents of the page element

			var i,
				len = letters.length,
				strCopy = str.slice(0);	// Fresh copy of the string

			if(start>len){
				return;
			}

			// All the work gets done here
			for(i=Math.max(start,0); i < len; i++){

				// The start argument and options.step limit
				// the characters we will be working on at once

				if( i < start+options.step){
					// Generate a random character at this position
					strCopy[letters[i]] = randomChar(types[letters[i]]);
				}
				else {
					strCopy[letters[i]] = "";
				}
			}

			el.text(strCopy.join(""));

			setTimeout(function(){

				shuffle(start+1);

			},1000/options.fps);

		})(-options.step);

	});
}; // end shuffleLogic


var shiftChars = function( el ){
  // debugger
	// container is the DOM element;
	// userText is the textbox

	var container = $( el );
		userText = $( $thisText );

	// Shuffle the contents of container
	container.shuffleLetters();

	// Bind events
	// userText.click(function () {
  //
	//   userText.val("");
  //
	// }).bind('keypress',function(e){
  //
	// 	if(e.keyCode == 13){
  //
	// 		// The return key was pressed
  //
	// 		container.shuffleLetters({
	// 			"text": userText.val()
	// 		});
  //
	// 		userText.val("");
	// 	}
  //
	// }).hide();

	// Leave a 4 second pause

	setTimeout(function(){

		// Shuffle the container with custom text
		container.shuffleLetters({
			"text": $thisText
		});

		// userText.val("type anything and hit return..").fadeIn();

	},1000);

};

var $thisText;
// mouseEnter
$(".box").mouseenter(function(){
$thisText = $(this).children('h4').text()
$currentEl = $(this).children('h4')

  shiftChars( $currentEl )


}); // end hover

$("h4").mouseleave(function(){
  $(this).text( $thisText );

});

// -----------------------------------------------------
</script>

</body>
</html>
